(()=>{const o=document,r=o.body,y=o.querySelector("main.generated"),c=o.querySelector("main.favorites"),G=o.querySelector(".control");let s={swatchCount:64,css:!1,T:{vibrant:{name:"Vibrant",hue:[0,360],saturation:[97,100],light:[49,56]},pastel:{name:"Pastel",hue:[0,360],saturation:[80,100],light:[62,82]},random:{name:"Random",hue:[0,360],saturation:[0,100],light:[0,100]}}};const t=(e,t)=>e.forEach((n,s)=>t.appendChild(e[s])),e=(e,t=[])=>{let n=o.createElement(e);return t.forEach((e,s)=>n.classList.add(t[s])),n},m=()=>Math.random().toString(36).substr(2,4),X=()=>`${m()}-${m()}-${m()}`,u=n=>{let i=o.querySelector(".notification-message");i!=null&&i.remove();let s=e("div",["notification-message"]);s.innerText=n,setTimeout(()=>s.style.animation="unset",350),setTimeout(()=>s.style.opacity=0,3e3),setTimeout(()=>s.remove(),3500),t([s],r)},_=(n,s=!1)=>{const i=e("textarea");i.value=n,i.setAttribute("readonly",""),i.style.position="absolute",i.style.left="-9999px",t([i],r),i.select(),o.execCommand("copy"),r.removeChild(i),u(s?`ðŸ‘Œ Copied to clipboard!`:`ðŸ‘Œ Copied to clipboard: ${n}`)},I=e=>btoa(e),Q=e=>atob(e),i=(e,t)=>Math.floor(Math.random()*(t-e+1)+e),V=()=>i(0,360),k=(e,t,n)=>`hsl(${e},${t}%, ${n}%)`,$=(e,t,n)=>`linear-gradient(${e}deg,${t}0%,${n} 100%)`,D=(e,t,n)=>`${e}${t}${n}`,j=(e,t,n)=>{n/=100;const o=t*Math.min(n,1-n)/100,s=t=>{const s=(t+e/30)%12,i=n-o*Math.max(Math.min(s-3,9-s,1),-1);return Math.round(255*i).toString(16).padStart(2,"0")};return`#${s(0)}${s(8)}${s(4)}`},N=()=>i(h[0],h[1]),Y=e=>{let t=e+i(16,70);return t>360&&(t=t-360),t},w=()=>i(f[0],f[1]),O=()=>i(d[0],d[1]),a="swatch-gallery-favorites",C=e=>localStorage.setItem(a,JSON.stringify(e)),E=(e,t,n,s)=>{let o={id:e,hex:[t,n],deg:s};return o},g=()=>null!=localStorage.getItem(a),B=(e,t,n,s)=>{if(g()){let o=JSON.parse(localStorage.getItem(a)),i=o.map(e=>e.id).indexOf(e);i==-1?o.push(E(e,t,n,s)):o.splice(i,1),C(o)}else{let o=[];o.push(E(e,t,n,s)),C(o)}A()},S=(n=[],s,i)=>{let c=e("div",["info"]),l=e("div",["stops-wrap"]),d=e("div",["favorite-wrap"]),r=e("div",["make-favorite"]);if(g()){let e=JSON.parse(localStorage.getItem(a)),t=e.map(e=>e.id).indexOf(s);t!=-1&&r.classList.add("active")}return r.addEventListener("click",()=>{if(r.classList.toggle("active"),B(s,n[0],n[1],i),!r.classList.contains("active")){let e=o.querySelector(`[data-id="${s}"] .active`);e!==null&&e.classList.toggle("active")}}),t([r],d),n.forEach((n)=>{let o=e("div",["stop"]),i=e("div",["preview"]),a=e("div",["text"]);i.style.backgroundColor=n,a.innerText=n,o.addEventListener("click",()=>_(n)),t([i,a],o),t([o],l)}),t([l,d],c),c},M=(n=!1)=>{let i=e("div",["wrap"]),o=e("div",["swatch"]),a=e("div",["info"]),s={};if(n==!1){let r=N(),h=O(),u=w(),c=Y(r),d=O(),l=w(),e=V(),f=k(r,h,u),p=k(c,d,l),g=$(e,f,p),a=j(r,h,u),n=j(c,d,l),m=I(D(e,a,n));o.style.backgroundImage=g,i.setAttribute("data-id",m),t([o,S([a,n],m,e)],i),s.deg=e,s.s1=a,s.s2=n}else o.style.backgroundImage=`linear-gradient(${n.deg}deg,${n.hex[0]} 0%,${n.hex[1]} 100%)`,t([o,S([n.hex[0],n.hex[1]],n.id,n.deg)],i),s.deg=n.deg,s.s1=n.hex[0],s.s2=n.hex[1];return t([H(o),F(s)],o),i},H=t=>{let n=e("div",["fullscreen-btn"]);return n.addEventListener("click",()=>z(t)),n},p=e=>{let t=[e.querySelector(".css-toggle"),e.querySelector(".fullscreen-btn")];t.forEach(e=>e.style.opacity=0),e.addEventListener("fullscreenchange",e=>{o.fullscreenElement||t.forEach(e=>e.style.opacity=null)})},z=e=>{e.requestFullscreen?(e.requestFullscreen(),p(e)):e.webkitRequestFullscreen?(elem.webkitRequestFullscreen(),p(e)):e.msRequestFullscreen&&(e.msRequestFullscreen(),p(e))},F=t=>{let n=e("div",["css-toggle"]);return n.innerText="CSS",n.addEventListener("click",()=>P(t)),n},l=(e,t)=>{let n=`
  <span class="p">background:</span> <span class="b">${t}</span>(<span class="o">${e.deg}deg</span>, <span class="o">${e.s1.slice(0,1)}</span><span class="b">${e.s1.slice(1).toUpperCase()}</span> <span class="o">0%</span>, <span class="o">${e.s2.slice(0,1)}</span><span class="b">${e.s2.slice(1).toUpperCase()}</span> <span class="o">100%</span>)<span class="p">;</span>`;return n},L=e=>e.forEach(e=>R(e)),R=e=>{e.style.opacity=0,setTimeout(()=>e.remove(),350)},P=n=>{let s=e("div",["code-overlay"]),o=e("div",["code-overlay-backdrop"]),d=e("div",["headline"]),i=e("code"),a=e("div",["copy-cta"]),c=e("div",["close-overlay"]),u=e("i"),h=[c,o],m=[s,o];d.innerText="Copy CSS code",a.innerText="Copy CSS",i.innerHTML=`
    ${l(n,"linear-gradient")}
    <br>
    <br>
    <i>// For older Browsers:</i><br>
    ${l(n,"-webkit-linear-gradient")}
    <br>
    ${l(n,"-moz-linear-gradient")}
    <br>
    ${l(n,"-o-linear-gradient")}
    `,s.style.opacity=0,setTimeout(()=>s.style.opacity=1,1),h.forEach(e=>e.addEventListener("click",()=>L(m))),a.addEventListener("click",()=>_(i.innerText,!0)),t([u],c),t([c,d,i,a],s),t([o,s],r)},b=e=>{y.innerHTML="";let n=0;for(;n<e;)t([M()],y),n++},v=e=>e.innerHTML="<div class=empty><span>Your favorited swatches will appear here.</span></div>",A=()=>{if(c.innerHTML="",g()){let e=JSON.parse(localStorage.getItem(a));e.length==0?v(c):e.forEach(e=>t([M(e)],c))}else v(c)},T=()=>{h=s.T[n].hue,d=s.T[n].saturation,f=s.T[n].light},x=()=>{b(s.swatchCount),u(`âœ¨ Generated ${s.T[n].name} Gallery.`)},W=()=>{let t=e("div",["cta"]);return t.innerText="Generate New Gallery",t.addEventListener("click",()=>x()),t},U=()=>{let o=e("div",["switcher"]),i=e("div",["active-switcher",n]);t([i],o);for(const[r,c]of Object.entries(s.T)){let a=e("div",["item"]);a.innerText=s.T[r].name,n==r&&a.classList.add("active-select"),a.addEventListener("click",()=>{i.classList.remove(n),n=r,i.classList.add(n),T(),x()}),t([a],o)}return o},K=()=>t([U(),W()],G),q=()=>{K(),b(s.swatchCount),A()};let n="vibrant",h=s.T[n].hue,d=s.T[n].saturation,f=s.T[n].light;q()})()